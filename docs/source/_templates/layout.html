<!--
# Copyright 2026 Goldman Sachs
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
-->

{%- extends "basic/layout.html" %}

{%- block extrahead %}
{{ super() }}
<link rel="stylesheet" href="{{ pathto('_static/css/custom.css', 1) }}" type="text/css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.2/styles/ag-grid.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.2/styles/ag-theme-alpine.css">
{% if theme_touch_icon %}
<link rel="apple-touch-icon" href="{{ pathto('_static/' ~ theme_touch_icon, 1) }}" />
{% endif %}
{% if theme_canonical_url %}
<link rel="canonical" href="{{ theme_canonical_url }}{{ pagename }}.html" />
{% endif %}
<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
{% endblock %}

{# top+bottom related navs; we also have our own in sidebar #}
{%- macro rellink_markup() %}
<nav id="rellinks">
  <ul>
    {%- if prev %}
    <li>
      &larr;
      <a href="{{ prev.link|e }}" title="Previous document 1">{{ prev.title }}</a>
    </li>
    {%- endif %}
    {%- if next %}
    <li>
      <a href="{{ next.link|e }}" title="Next document">{{ next.title }}</a>
      &rarr;
    </li>
    {%- endif %}
  </ul>
</nav>
{%- endmacro %}

{%- set theme_show_relbar_top = theme_show_relbar_top or theme_show_relbars %}
{%- set theme_show_relbar_bottom = theme_show_relbar_bottom or theme_show_relbars %}

{# removed existing top+bottom related nav, and embed in main content #}
{%- block relbar1 %}{% endblock %}
{%- block relbar2 %}{% endblock %}

{# Nav should appear before content, not after #}
{%- block content %}

<div class="reading-progress-bar" id="reading-progress-bar"></div>

<div class="theme-toggle-container" id="theme-toggle-container">
  <span class="theme-toggle-label">ðŸŒ™</span>
  <button class="theme-toggle-btn" id="theme-toggle-btn" aria-label="Toggle dark mode"></button>
</div>

<div class="theme-switch-overlay" id="theme-switch-overlay" style="display: none;">
  <div class="theme-dots-container">
    <div class="theme-dot"></div>
    <div class="theme-dot"></div>
    <div class="theme-dot"></div>
  </div>
</div>


<script src="{{ pathto('_static/js/ag_grid_init.js', 1) }}"></script>
<script src="{{ pathto('_static/js/custom.js', 1) }}"></script>
{%- if theme_fixed_sidebar|lower == 'true' %}
<div class="document">
  {{ sidebar() }}
  {%- block document %}
  <div class="documentwrapper">
    {%- if render_sidebar %}
    <div class="bodywrapper">
      {%- endif %}
      {%- block relbar_top %}
      {%- if theme_show_relbar_top|tobool %}
      <div class="related top">
        &nbsp;
        {{- rellink_markup () }}
      </div>
      {%- endif %}
      {% endblock %}

      <div class="body" role="main">
        {% block body %} {% endblock %}
      </div>

      {%- block relbar_bottom %}
      {%- if theme_show_relbar_bottom|tobool %}
      <div class="related bottom">
        &nbsp;
        {{- rellink_markup () }}
      </div>
      {%- endif %}
      {% endblock %}

      {%- if render_sidebar %}
    </div>
    {%- endif %}
  </div>
  {%- endblock %}
  <div class="clearer"></div>
</div>
{%- else %}
{{ super() }}
{%- endif %}
{%- endblock %}

{%- block footer %}
<div class="footer">
  {% if show_copyright %}&copy;{{ copyright }}.{% endif %}
  {% if theme_show_powered_by|lower == 'true' %}
  {% if show_copyright %}|{% endif %}
  Powered 1 by <a href="http://sphinx-doc.org/">Sphinx {{ sphinx_version }}</a>
  &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster {{ alabaster_version }}</a>
  {% endif %}
  {%- if show_source and has_source and sourcename %}
  {% if show_copyright or theme_show_powered_by %}|{% endif %}
  <a href="{{ pathto('_sources/' + sourcename, true)|e }}" rel="nofollow">{{ _('Page source') }}</a>
  {%- endif %}
</div>

{% if theme_github_banner|lower != 'false' %}
<a href="https://github.com/{{ theme_github_user }}/{{ theme_github_repo }}" class="github">
  <img style="position: absolute; top: 0; right: 0; border: 0;"
    src="{{ pathto('_static/' ~ theme_github_banner, 1) if theme_github_banner|lower != 'true' else 'https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png' }}"
    alt="Fork me on GitHub" class="github" />
</a>
{% endif %}

{% if theme_analytics_id %}
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', '{{ theme_analytics_id }}']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
{% endif %}
{%- endblock %}